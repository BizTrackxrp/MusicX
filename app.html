<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XRP Music | Decentralized Music on XRPL</title>
  <link rel="icon" href="/xrpmusic-logo.png">
  <link rel="apple-touch-icon" href="/xrpmusic-logo.png">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/genres.css">
  <link rel="stylesheet" href="/css/queue.css">
  <meta name="description" content="Stream, collect, and trade music NFTs on the XRP Ledger.">
  <meta name="theme-color" content="#000000">
</head>
<body>
  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <div class="logo-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18V5l12-2v13"></path>
            <circle cx="6" cy="18" r="3"></circle>
            <circle cx="18" cy="16" r="3"></circle>
          </svg>
        </div>
        <span class="logo-text">XRP Music</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <button class="nav-item active" data-page="stream">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span>Stream</span>
      </button>
      <button class="nav-item" data-page="marketplace">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <path d="M16 10a4 4 0 0 1-8 0"></path>
        </svg>
        <span>Marketplace</span>
      </button>
      <button class="nav-item" data-page="profile">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        <span>Profile</span>
      </button>

      <button id="sales-nav-item" class="nav-item hidden" data-page="sales">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
  </svg>
  <span>Sales</span>
</button>
      <a href="/royalty-audit.html" class="nav-item" style="text-decoration:none;color:inherit;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
        </svg>
        <span>Transparency</span>
      </a>

      <!-- Create Button (shown when logged in) -->
      <button id="create-btn" class="create-btn hidden">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        <span>Create & Mint</span>
      </button>

      <!-- Library Section (shown when logged in) -->
      <div id="library-section" class="library-section hidden">
        <button class="library-header" id="library-toggle">
          <span>Your Library</span>
          <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        
        <div id="library-content" class="library-content">
          <button class="nav-item" data-page="liked">
            <div class="liked-icon">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
              </svg>
            </div>
            <div class="nav-item-info">
              <span>Liked Songs</span>
              <span class="track-count" id="liked-count"></span>
            </div>
          </button>

          <button class="nav-item" data-page="playlists">
            <div class="playlist-icon browse">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
            </div>
            <span>Browse Playlists</span>
          </button>

          <button class="nav-item" data-page="genres">
  <div class="playlist-icon browse" style="background: linear-gradient(135deg, #f97316, #ec4899);">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="7" height="7"></rect>
      <rect x="14" y="3" width="7" height="7"></rect>
      <rect x="14" y="14" width="7" height="7"></rect>
      <rect x="3" y="14" width="7" height="7"></rect>
    </svg>
  </div>
  <span>Browse Genres</span>
</button>

          <button class="nav-item" id="create-playlist-btn">
            <div class="playlist-icon">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
            </div>
            <span>Create Playlist</span>
          </button>

          <!-- Queue Section -->
          <div class="queue-section">
            <button class="queue-header" id="queue-toggle">
              <div class="queue-header-left">
                <div class="queue-header-icon">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="8" y1="6" x2="21" y2="6"></line>
                    <line x1="8" y1="12" x2="21" y2="12"></line>
                    <line x1="8" y1="18" x2="21" y2="18"></line>
                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                  </svg>
                </div>
                <div>
                  <div class="queue-header-title">Queue</div>
                  <div id="queue-count" style="font-size: 11px; color: var(--text-muted);"></div>
                </div>
              </div>
              <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </button>
            <div id="queue-content" class="queue-content">
              <div id="queue-tracks-list"></div>
            </div>
          </div>

          <!-- User playlists will be inserted here -->
          <div id="user-playlists"></div>
        </div>
      </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
      <button class="theme-toggle" id="theme-toggle">
        <div class="theme-toggle-inner">
          <svg id="moon-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <svg id="sun-icon" class="hidden" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <span>Dark Mode</span>
        </div>
        <div class="toggle-switch">
          <div class="toggle-knob"></div>
        </div>
      </button>

      <!-- Legal Links -->
      <button class="tos-link" onclick="Modals.showTermsOfService()">Terms of Service</button>

      <!-- Auth Section -->
      <div id="auth-section">
        <!-- Logged out state -->
        <button id="connect-btn" class="connect-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
            <line x1="1" y1="10" x2="23" y2="10"></line>
          </svg>
          <span>Connect / Sign In</span>
        </button>

        <!-- Logged in state (hidden by default) -->
        <div id="user-card" class="user-card hidden">
          <div class="user-info">
            <div class="user-avatar" id="user-avatar">X</div>
            <div class="user-details">
              <span class="user-name" id="user-name">Connected</span>
              <span class="user-address" id="user-address"></span>
            </div>
          </div>
          <button id="logout-btn" class="logout-btn">Sign Out</button>
        </div>
      </div>
    </div>
  </aside>

  <!-- Mobile Sidebar Overlay -->
  <div id="sidebar-overlay" class="sidebar-overlay"></div>

  <!-- Main Content -->
  <main id="main-content" class="main-content">
    <!-- Header -->
    <header class="header">
      <button id="menu-btn" class="menu-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <!-- Search (desktop) -->
      <div class="search-container">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" id="search-input" class="search-input" placeholder="Search tracks, artists, albums...">
        <button id="search-clear" class="search-clear hidden">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <!-- Search Results Dropdown -->
        <div id="search-results" class="search-results hidden"></div>
      </div>

      <!-- Mobile Search (hidden by default, expands over header on tap) -->
      <div class="mobile-search-container" id="mobile-search-container">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" id="mobile-search-input" class="search-input" placeholder="Search...">
        <button id="mobile-search-close" class="mobile-search-close-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <div id="mobile-search-results" class="search-results hidden"></div>
      </div>

      <div class="header-actions" id="header-actions">
        <!-- Mobile Search Toggle -->
        <button class="header-btn mobile-search-btn" id="mobile-search-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </button>

        <!-- Mint Notifications Bell -->
        <button class="header-btn" id="mint-notifications-bell" onclick="MintNotifications.toggleDropdown()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="mint-bell-badge" style="display: none;"></span>
        </button>

        <!-- Mobile Connect Button -->
        <button id="mobile-connect-btn" class="mobile-connect-btn hidden">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
            <line x1="1" y1="10" x2="23" y2="10"></line>
          </svg>
          <span>Connect</span>
        </button>
      </div>
    </header>

    <!-- Page Content -->
    <div id="page-content" class="page-content">
      <!-- Pages will be rendered here -->
      <div class="loading-spinner">
        <div class="spinner"></div>
      </div>
    </div>
  </main>

  <!-- Player Bar - RESTRUCTURED FOR CENTERED CONTROLS -->
  <div id="player-bar" class="player-bar hidden">
    <!-- Progress Bar (clickable) -->
    <div class="player-progress" id="player-progress">
      <div class="player-progress-fill" id="player-progress-fill"></div>
    </div>

    <div class="player-content">
      <!-- LEFT: Track Info -->
      <div class="player-left">
        <div class="player-track" id="player-track-info">
          <img id="player-cover" class="player-cover" src="" alt="">
          <div class="player-track-details">
            <span class="player-title" id="player-title">Select a track to play</span>
            <span class="player-artist" id="player-artist">Browse the marketplace</span>
          </div>
          <!-- Mobile expand button -->
          <button class="player-expand-btn" id="player-expand-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
          </button>
        </div>
      </div>

      <!-- CENTER: Controls (desktop) - NO SHUFFLE BUTTON -->
      <div class="player-center desktop-only">
        <div class="player-controls">
          <button class="control-btn" id="prev-btn" title="Previous">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="19 20 9 12 19 4 19 20"></polygon>
              <line x1="5" y1="19" x2="5" y2="5"></line>
            </svg>
          </button>
          <button class="control-btn play-btn" id="play-btn">
            <svg id="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
              <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <svg id="pause-icon" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
              <rect x="6" y="4" width="4" height="16"></rect>
              <rect x="14" y="4" width="4" height="16"></rect>
            </svg>
          </button>
          <button class="control-btn" id="next-btn" title="Next">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="5 4 15 12 5 20 5 4"></polygon>
              <line x1="19" y1="5" x2="19" y2="19"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- RIGHT: Like, Add, Repeat, Volume, Now Playing Drawer (desktop) -->
      <div class="player-right desktop-only">
        <button class="player-action-btn" id="player-like-btn" title="Like">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
        </button>
        <button class="player-action-btn" id="player-add-btn" title="Add to Playlist">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
        <button class="queue-action-btn" id="player-play-next-btn" title="Play Next" onclick="QueueManager.playNext(AppState.player.currentTrack)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 3l14 9-14 9V3z" fill="none"></path>
            <line x1="19" y1="3" x2="19" y2="21" stroke-width="2.5"></line>
          </svg>
        </button>
        <button class="queue-action-btn" id="player-add-queue-btn" title="Add to Queue" onclick="if(AppState.player.currentTrack) QueueManager.addToQueue(AppState.player.currentTrack)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </button>
        <button class="control-btn" id="repeat-btn" title="Repeat">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="17 1 21 5 17 9"></polyline>
            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
            <polyline points="7 23 3 19 7 15"></polyline>
            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
          </svg>
        </button>
        <div class="player-volume">
          <button class="control-btn" id="volume-btn">
            <svg id="volume-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
              <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            </svg>
            <svg id="volume-mute-icon" class="hidden" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
              <line x1="23" y1="9" x2="17" y2="15"></line>
              <line x1="17" y1="9" x2="23" y2="15"></line>
            </svg>
          </button>
          <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="80">
        </div>
        <!-- Now Playing Drawer Toggle -->
        <button class="control-btn" id="desktop-drawer-btn" title="Now Playing View" onclick="Modals.showExpandedNowPlaying()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <line x1="8" y1="21" x2="16" y2="21"></line>
            <line x1="12" y1="17" x2="12" y2="21"></line>
          </svg>
        </button>
      </div>

      <!-- Mobile Controls: Prev, Play/Pause, Next -->
      <div class="mobile-player-controls mobile-only">
        <button class="mobile-control-btn" id="mobile-prev-btn" title="Previous">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="19 20 9 12 19 4 19 20"></polygon>
            <line x1="5" y1="19" x2="5" y2="5"></line>
          </svg>
        </button>
        <button class="mobile-play-btn" id="mobile-play-btn">
          <svg id="mobile-play-icon" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          <svg id="mobile-pause-icon" class="hidden" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
            <rect x="6" y="4" width="4" height="16"></rect>
            <rect x="14" y="4" width="4" height="16"></rect>
          </svg>
        </button>
        <button class="mobile-control-btn" id="mobile-next-btn" title="Next">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="5 4 15 12 5 20 5 4"></polygon>
            <line x1="19" y1="5" x2="19" y2="19"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Expanded Mobile Player (hidden by default) - NO SHUFFLE BUTTON -->
  <div id="expanded-player" class="expanded-player hidden">
    <div class="expanded-player-header">
      <button id="collapse-player-btn" class="collapse-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <span>Now Playing</span>
      <div style="width: 40px;"></div>
    </div>

    <div class="expanded-player-cover">
      <img id="expanded-cover" src="" alt="">
    </div>

    <div class="expanded-player-info">
      <h2 id="expanded-title">Track Title</h2>
      <p id="expanded-artist">Artist Name</p>
    </div>

    <div class="expanded-player-actions" id="expanded-actions">
      <button class="expanded-action-btn" id="expanded-like-btn">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
      </button>
      <button class="expanded-action-btn" id="expanded-add-btn">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </button>
    </div>

    <div class="expanded-player-progress">
      <div class="progress-bar" id="expanded-progress">
        <div class="progress-fill" id="expanded-progress-fill"></div>
        <div class="progress-knob" id="expanded-progress-knob"></div>
      </div>
      <div class="progress-times">
        <span id="expanded-current-time">0:00</span>
        <span id="expanded-duration">0:00</span>
      </div>
    </div>

    <div class="expanded-player-controls">
      <button class="expanded-control-btn" id="expanded-prev-btn">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="19 20 9 12 19 4 19 20"></polygon>
          <line x1="5" y1="19" x2="5" y2="5"></line>
        </svg>
      </button>
      <button class="expanded-play-btn" id="expanded-play-btn">
        <svg id="expanded-play-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
        <svg id="expanded-pause-icon" class="hidden" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        </svg>
      </button>
      <button class="expanded-control-btn" id="expanded-next-btn">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="5 4 15 12 5 20 5 4"></polygon>
          <line x1="19" y1="5" x2="19" y2="19"></line>
        </svg>
      </button>
      <button class="expanded-control-btn" id="expanded-repeat-btn" title="Repeat">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="17 1 21 5 17 9"></polyline>
          <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
          <polyline points="7 23 3 19 7 15"></polyline>
          <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
        </svg>
      </button>
    </div>

    <div class="expanded-player-volume">
      <button id="expanded-volume-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        </svg>
      </button>
      <input type="range" id="expanded-volume-slider" class="volume-slider" min="0" max="100" value="80">
    </div>
  </div>

  <!-- Audio Element -->
  <audio id="audio-player"></audio>

  <!-- Modals Container -->
  <div id="modals"></div>

  <!-- Scripts -->
    <script src="/js/ipfs-helper.js"></script>
  <script src="/js/state.js"></script>
  <script src="/js/api.js"></script>
  <script src="/js/xaman.js"></script>
  <script src="/js/player.js"></script>
  <script src="/js/queue.js"></script>
  <script src="/js/ui.js"></script>
  <script src="/js/pages/mint-badges.js"></script>
  <script src="/js/pages/stream.js"></script>
  <script src="/js/pages/marketplace.js"></script>
  <script src="/js/pages/profile.js"></script>
  <script src="/js/pages/purchase.js"></script>
  <script src="/js/pages/playlist-page.js"></script>
  <script src="/js/pages/direct-uploader.js"></script>
  <script src="/js/share-utils.js"></script>
  <script src="/js/browse-playlists.js"></script>
  
  <script src="/js/playlist-picker.js"></script>
  <script src="/js/pages/liked.js"></script>
  <script src="/js/modals.js"></script>
  <script src="/js/pages/artist-sales.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/mint-notifications.js"></script>
  <script src="/js/edit-price-modal.js"></script>
  <script src="/js/genres.js"></script>
  <script src="/js/edit-genres-modal.js"></script>
<script src="/js/genre-playlists.js"></script>
<script src="/js/genre-page.js"></script>
<script src="/js/browse-genres.js"></script>
<script src="/js/genre-selector-modal.js"></script>
</body>
</html>
